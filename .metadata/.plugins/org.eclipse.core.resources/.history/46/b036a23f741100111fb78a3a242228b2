# Server port for Gateway
server.port=5050

# JWT configuration for Resource Server (Gateway)
spring.security.oauth2.resourceserver.jwt.jwk-set-uri=http://localhost:5001/.well-known/jwks.json
# If your auth service exposes JWKS at a different endpoint, update above URL

# Logging for debugging
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=INFO

# Gateway routes
# Route to Auth Service (allow /auth/** without JWT)
spring.cloud.gateway.routes[0].id=auth_route
spring.cloud.gateway.routes[0].uri=http://localhost:5001
spring.cloud.gateway.routes[0].predicates[0]=Path=/auth/**

# Route to Product Service (requires JWT)
spring.cloud.gateway.routes[1].id=product_route
spring.cloud.gateway.routes[1].uri=http://localhost:5002
spring.cloud.gateway.routes[1].predicates[0]=Path=/product/**

# Optional: global CORS settings
spring.webflux.cors.allowed-origins=*
spring.webflux.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.webflux.cors.allowed-headers=*